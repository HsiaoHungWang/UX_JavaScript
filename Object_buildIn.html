<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div>
        <label>電子郵件：<input type="email" id="inputMail" /></label>
    </div>
    <div>
        <!-- <button id="buttonCheck">檢查</button> -->
    </div>
    <div>
        <label>圖檔名稱：<input type="text" id="inputFileName" /></label>
    </div>
    <div>
        <label>出生日期：<input type="date" id="inputDate" /><span></span>

        </label>
    </div>

    <div id="divMessage"></div>
    <script src="scripts/validation.js"></script>
    <script>
        const inpMail = document.querySelector('#inputMail');
        const inpFileName = document.querySelector('#inputFileName');
        const inpDate = document.querySelector('#inputDate');
        const spnAge = document.querySelector('#inputDate~span');
        const btnCheck = document.querySelector('#buttonCheck');
        const divMsg = document.querySelector('#divMessage');

        inpMail.addEventListener('blur', () => {
            //email格式檢查
            const mail = inpMail.value;


            if (checkMail(mail)) {
                divMsg.textContent = 'Email格式正確';
            } else {
                divMsg.textContent = 'Email格式錯誤';
            }
        })


        inpFileName.addEventListener('blur', () => {
            //檢查是不是圖檔  a.jpg、a.png..
            const fileName = inpFileName.value;
            if (checkImageFile(fileName)) {
                divMsg.textContent = "是圖檔";
            } else {
                divMsg.textContent = "請輸入圖檔";
            }


        })


        inpDate.addEventListener('blur', () => {
            spnAge.textContent = calcAge(inpDate.value);
        })


        //Global 物件的方法
        //isNaN => 不是數值
        // console.log(isNaN('abcd')); //abcd不是數值所以回傳 true
        // console.log(isNaN('123')); //123是字串的數值所以回傳 false

        // //編碼 解碼
        // const strUrl = 'https://www.ispan.com.tw?search=UIUX設計師&key=value!@#$%';
        // //編碼
        // console.log(encodeURI(strUrl));
        // console.log(encodeURIComponent(strUrl));
        // //解碼
        // console.log(decodeURIComponent('%3F'));  //?
        // console.log(decodeURIComponent('%3D'));  //=
        // console.log(decodeURI('%E8%A8%AD')); //設


        //String Object
        //let str =  new String('JavaScript');
        // let str = 'JavaScript';  //str  => 就是字串物件

        // console.log(str.indexOf('@')); //找字串的字元，找到後回傳字元的索引值，找不到回傳-1
        // console.log(str.indexOf('a'));  //1
        // console.log(str.lastIndexOf('a')); //3
        // console.log(`lenght:${str.length}`);  //10  index 0-9

        // const strMail = 'wang@ispan.com@tw';

        //RegExp 物件  /pattern/

        //a123456789 身分證號
        // const re = /^[a-zA-Z]{1}[1-2]{1}\d{8}$/;
        // console.log(re.test('1234567890'));  //false
        // console.log(re.test('a234567890'));  //true
        // console.log(re.test('a334567890'));  //false

        // console.log(checkPhone('0911222333')); //false
        // console.log(checkPhone('0911-222-333')); //true
        // console.log(checkPhone('0811-222-333')); //false

        // console.log(checkMailByRegexp('wang@ispan.com.tw')); //true
        // console.log(checkMailByRegexp('wang@ispan.com.twtw')); //false
        // console.log(checkMailByRegexp('wangispan.com')); //false

        // console.log(checkPassword('aA12$'));  //false
        // console.log(checkPassword('aA123$'));  //true
        // console.log(checkPassword('aaa123$'));  //false


        //Array Object

        //陣列的宣告
        const arr1 = ['b', 'd', 'a', 'c'];
        const arr2 = [5, 32, 17, 8, 63];
        console.log(`原有陣列中的資料：${arr1}`);
        console.log(`陣列中有幾筆資料：${arr1.length}`);  //3

        // for (let item of arr1) {
        //     console.log(item);
        // }

        // arr1.forEach((item, idx, arr) => {
        //     //console.log(arr);
        //     //console.log(idx); //0 1 2 3
        //     console.log(item);
        // })
        //arr1.forEach(item => console.log(item));

        //篩選
        // const datas = arr2.filter(item=>{
        //     if(item % 2 === 0){
        //        return item;
        //     }
        // })
        // console.log(datas);

        //加工
        // const datas = arr2.map(item=>{
        //     return item * 2;
        // })
        // const datas = arr2.map(item=>item * 2)
        // console.log(datas);

        const emps = [{"name":"Tom","workYears":3,"salary":35000},
                     {"name":"Jack","workYears":5,"salary":40000},
                     {"name":"Mary","workYears":7,"salary":45000}];
        emps.forEach(emp=>{
            //emp => {"name":"Tom","workYears":3,"salary":35000}
            //console.log(emp.name);
            const {name,workYears,salary} = emp;
            console.log(name);
            console.log(workYears);
            console.log(salary);
        })

        const emp = {"employees":[
                      {"name":"Tom","workYears":3,"salary":35000},
                      {"name":"Jack","workYears":5,"salary":40000},
                      {"name":"Mary","workYears":7,"salary":45000}
                   ]};





        // //splice 刪除(start, delectCount)
        // // arr1.splice(1, 2); //從索引直1的位置開始刪除兩筆資料

        // //splice 插入新的項目(start, 0, 'e', 'f');
        // // arr1.splice(1, 0, 'e', 'f');

        // //splice 修改 (start, deleteCouent, 'e')
        // arr1.splice(2, 1, 'e');
        // console.log(arr1); //[b,e,a,c]




        // //刪除陣列第二個位置的內容
        // delete arr1[1];
        // console.log(`刪除後陣列中的資料：${arr1}`);
        // console.log(`陣列轉字串join()用_號串接：${arr1.join('_')}`);
        // console.log(`陣列轉字串用''串接：${arr1.join('')}`);
        // console.log(`陣列反轉reverse()，轉成字串用''串接：${arr1.reverse().join('')}`);
        // console.log(`陣列排序sort()，轉成字串用''串接：${arr1.sort().join('')}`);

        
        // console.log(`數字陣列排序 sort()：${arr2.sort()}`) //[5,8,17,32,63]不對 [17,32,5,63,8]
        // console.log(`數字陣列排序 sort((a,b)=>a-b)：${arr2.sort((a, b) => a - b)}`); //[5,8,17,32,63]
        // //a-b 為負 3-5 =>35 a在前面b在後面
        // //a-b 為正 5-4 =>45 b在前面a在後面
        // console.log(`數字陣列排序 sort((a,b)=>b-a)：${arr2.sort((a, b) => b - a)}`); //[63,32,17,8,5]
        //b-a 32-5 為正 b32在前面a5在後面
        //    17-5 為正 b17在前面a5在後面
        //    8-5  為正 b8在前面a5在後面
        //    63-5 為正 b63在前面a5在後面










    </script>
</body>

</html>