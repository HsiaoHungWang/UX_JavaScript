<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div>
        <label>電子郵件：<input type="email" id="inputMail" /></label>
    </div>
    <div>
        <!-- <button id="buttonCheck">檢查</button> -->
    </div>
    <div>
        <label>圖檔名稱：<input type="text" id="inputFileName" /></label>
    </div>
    <div>
        <label>出生日期：<input type="date" id="inputDate" /><span></span>

        </label>
    </div>

    <div id="divMessage"></div>
    <script src="scripts/validation.js"></script>
    <script>
        const inpMail = document.querySelector('#inputMail');
        const inpFileName = document.querySelector('#inputFileName');
        const inpDate = document.querySelector('#inputDate');
        const spnAge = document.querySelector('#inputDate~span');
        const btnCheck = document.querySelector('#buttonCheck');
        const divMsg = document.querySelector('#divMessage');

        inpMail.addEventListener('blur', () => {
            //email格式檢查
            const mail = inpMail.value;


            if (checkMail(mail)) {
                divMsg.textContent = 'Email格式正確';
            } else {
                divMsg.textContent = 'Email格式錯誤';
            }
        })


        inpFileName.addEventListener('blur', () => {
            //檢查是不是圖檔  a.jpg、a.png..
            const fileName = inpFileName.value;
            if (checkImageFile(fileName)) {
                divMsg.textContent = "是圖檔";
            } else {
                divMsg.textContent = "請輸入圖檔";
            }


        })


        inpDate.addEventListener('blur', () => {
            spnAge.textContent = calcAge(inpDate.value);
        })


        //Global 物件的方法
        //isNaN => 不是數值
        // console.log(isNaN('abcd')); //abcd不是數值所以回傳 true
        // console.log(isNaN('123')); //123是字串的數值所以回傳 false

        // //編碼 解碼
        // const strUrl = 'https://www.ispan.com.tw?search=UIUX設計師&key=value!@#$%';
        // //編碼
        // console.log(encodeURI(strUrl));
        // console.log(encodeURIComponent(strUrl));
        // //解碼
        // console.log(decodeURIComponent('%3F'));  //?
        // console.log(decodeURIComponent('%3D'));  //=
        // console.log(decodeURI('%E8%A8%AD')); //設


        //String Object
        //let str =  new String('JavaScript');
        let str = 'JavaScript';  //str  => 就是字串物件

        console.log(str.indexOf('@')); //找字串的字元，找到後回傳字元的索引值，找不到回傳-1
        console.log(str.indexOf('a'));  //1
        console.log(str.lastIndexOf('a')); //3
        console.log(`lenght:${str.length}`);  //10  index 0-9

        const strMail = 'wang@ispan.com@tw';

        //RegExp 物件  /pattern/

        //a123456789 身分證號
        const re = /^[a-zA-Z]{1}[1-2]{1}\d{8}$/;
        console.log(re.test('1234567890'));  //false
        console.log(re.test('a234567890'));  //true
        console.log(re.test('a334567890'));  //false

        console.log(checkPhone('0911222333')); //false
        console.log(checkPhone('0911-222-333')); //true
        console.log(checkPhone('0811-222-333')); //false

        console.log(checkMailByRegexp('wang@ispan.com.tw')); //true
        console.log(checkMailByRegexp('wang@ispan.com.twtw')); //false
        console.log(checkMailByRegexp('wangispan.com')); //false

        console.log(checkPassword('aA12$'));  //false
        console.log(checkPassword('aA123$'));  //true
        console.log(checkPassword('aaa123$'));  //false




    </script>
</body>

</html>